<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="robots" content="all" />
    <meta name="author" content="boyshell" />
    <title>模块</title>
</head>
<body>
<h4>开始</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: client
API调用者: logic
</pre>
参数: ReqCatanStart
<pre style="background: #f5f5f5">
<code>
<a href="CatanMap.html">CatanMap</a> map; // 卡坦岛地图
</code>
</pre>
</pre>
<h4>初始化回合开始</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: client
API调用者: logic
</pre>
参数: ReqCatanRoundInitStart
<pre style="background: #f5f5f5">
<code>
fixed64 id; // 账号id
int32 remain; // 剩余多少秒结束
</code>
</pre>
</pre>
<h4>设置起始点</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanSet
<pre style="background: #f5f5f5">
<code>
<a href="Position.html">Position</a> country; // 村庄坐标(道路起点)
<a href="Position.html">Position</a> roadDst; // 道路终点
</code>
</pre>
返回值: ResCatanSet
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
fixed64 id; // 账号id
<a href="Position.html">Position</a> country; // 村庄坐标(道路起点)
<a href="Position.html">Position</a> roadDst; // 道路终点
<a href="CatanResource.html">CatanResource</a> resource; // 资源
</code>
</pre>
</pre>
<h4>普通回合开始</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: client
API调用者: logic
</pre>
参数: ReqCatanRoundCommonStart
<pre style="background: #f5f5f5">
<code>
fixed64 id; // 账号id
int32 remain; // 剩余多少秒结束
int32 dice; // 骰子点数,前端自行判定是否需要移动强盗
<a href="CatanMasterResource.html">CatanMasterResource</a> gain; // 每个人收获列表
</code>
</pre>
</pre>
<h4>结束普通回合</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanRoundCommonEnd
<pre style="background: #f5f5f5">
<code>
</code>
</pre>
返回值: ResCatanRoundCommonEnd
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
</code>
</pre>
</pre>
<h4>建造道路</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanBuildRoad
<pre style="background: #f5f5f5">
<code>
<a href="Position.html">Position</a> src; // 起点
<a href="Position.html">Position</a> dst; // 终点
</code>
</pre>
返回值: ResCatanBuildRoad
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
fixed64 id; // 账号id
<a href="Position.html">Position</a> src; // 起点
<a href="Position.html">Position</a> dst; // 终点
</code>
</pre>
</pre>
<h4>建造村庄</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanBuildCountry
<pre style="background: #f5f5f5">
<code>
<a href="Position.html">Position</a> country; // 村庄坐标
</code>
</pre>
返回值: ResCatanBuildCountry
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
fixed64 id; // 账号id
<a href="Position.html">Position</a> country; // 村庄坐标
</code>
</pre>
</pre>
<h4>建造城市</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanBuildCity
<pre style="background: #f5f5f5">
<code>
<a href="Position.html">Position</a> city; // 城市坐标
</code>
</pre>
返回值: ResCatanBuildCity
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
fixed64 id; // 账号id
<a href="Position.html">Position</a> city; // 城市坐标
</code>
</pre>
</pre>
<h4>建造发展卡</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanBuildDevelopmentCard
<pre style="background: #f5f5f5">
<code>
int32 count; // 数量
</code>
</pre>
返回值: ResCatanBuildDevelopmentCard
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
fixed64 id; // 账号id
<a href="CatanCard.html">CatanCard</a> card; // 获得卡片
</code>
</pre>
</pre>
<h4>系统交易</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanTradeSystem
<pre style="background: #f5f5f5">
<code>
<a href="CatanResource.html">CatanResource</a> offer; // 我要的资源
<a href="CatanResource.html">CatanResource</a> want; // 我提供的资源
</code>
</pre>
返回值: ResCatanTradeSystem
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
<a href="CatanResource.html">CatanResource</a> offer; // 玩家要的资源
<a href="CatanResource.html">CatanResource</a> want; // 玩家提供的资源
fixed64 id; // 账号id
</code>
</pre>
</pre>
<h4>开价给所有人(交易流程:开价->还价/取消->成交/取消),此消息可能会重复收取,需要重置交易流程</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanTradeOffer
<pre style="background: #f5f5f5">
<code>
<a href="CatanResource.html">CatanResource</a> offer; // 我要的资源
<a href="CatanResource.html">CatanResource</a> want; // 我提供的资源
</code>
</pre>
返回值: ResCatanTradeOffer
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
<a href="CatanResource.html">CatanResource</a> offer; // 玩家要的资源
<a href="CatanResource.html">CatanResource</a> want; // 玩家提供的资源
fixed64 id; // 账号id
</code>
</pre>
</pre>
<h4>还价给发起者,可以跟开价一模一样,表示我接受你的报价</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanTradeCounterOffer
<pre style="background: #f5f5f5">
<code>
<a href="CatanResource.html">CatanResource</a> offer; // 我要的资源
<a href="CatanResource.html">CatanResource</a> want; // 我提供的资源
</code>
</pre>
返回值: ResCatanTradeCounterOffer
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
</code>
</pre>
</pre>
<h4>别人给我还价</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: client
API调用者: logic
</pre>
参数: ReqCatanTradeCounterOfferToMe
<pre style="background: #f5f5f5">
<code>
<a href="CatanResource.html">CatanResource</a> offer; // 玩家要的资源
<a href="CatanResource.html">CatanResource</a> want; // 玩家提供的资源
fixed64 id; // 账号id
</code>
</pre>
</pre>
<h4>拒绝别人的开价</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanTradeCounterOfferRefuse
<pre style="background: #f5f5f5">
<code>
</code>
</pre>
返回值: ResCatanTradeCounterOfferRefuse
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
</code>
</pre>
</pre>
<h4>别人拒绝我的交易</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: client
API调用者: logic
</pre>
参数: ReqCatanTradeCounterOfferRefuseToMe
<pre style="background: #f5f5f5">
<code>
fixed64 id; // 账号id
</code>
</pre>
</pre>
<h4>交易成交</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanTradeDeal
<pre style="background: #f5f5f5">
<code>
fixed64 target; // 目标id
</code>
</pre>
返回值: ResCatanTradeDeal
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
<a href="CatanMasterResource.html">CatanMasterResource</a> master1; // 玩家1获得的资源(玩家2失去的资源)
<a href="CatanMasterResource.html">CatanMasterResource</a> master2; // 玩家2获得的资源(玩家1失去的资源)
</code>
</pre>
</pre>
<h4>交易取消</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanTradeCancel
<pre style="background: #f5f5f5">
<code>
</code>
</pre>
返回值: ResCatanTradeCancel
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
</code>
</pre>
</pre>
<h4>抢劫</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanRob
<pre style="background: #f5f5f5">
<code>
<a href="Position.html">Position</a> robber; // 强盗的位置
fixed64 id; // 被抢的玩家
</code>
</pre>
返回值: ResCatanRob
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
<a href="Position.html">Position</a> robber; // 强盗的位置
fixed64 criminal; // 罪犯
fixed64 victim; // 受害者
<a href="CatanResourceType.html">CatanResourceType</a> resource; // 资源
</code>
</pre>
</pre>
<h4>使用丰收卡</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanRichCard
<pre style="background: #f5f5f5">
<code>
<a href="CatanResourceType.html">CatanResourceType</a> resource; // 资源
</code>
</pre>
返回值: ResCatanRichCard
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
<a href="CatanResourceType.html">CatanResourceType</a> resource; // 资源
fixed64 id; // 账号id
</code>
</pre>
</pre>
<h4>使用道路卡</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanRoadCard
<pre style="background: #f5f5f5">
<code>
<a href="Position.html">Position</a> src1; // 起点1
<a href="Position.html">Position</a> dst1; // 终点1
<a href="Position.html">Position</a> src2; // 起点2
<a href="Position.html">Position</a> dst2; // 终点2
</code>
</pre>
返回值: ResCatanRoadCard
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
<a href="Position.html">Position</a> src1; // 起点1
<a href="Position.html">Position</a> dst1; // 终点1
<a href="Position.html">Position</a> src2; // 起点2
<a href="Position.html">Position</a> dst2; // 终点2
fixed64 id; // 账号id
</code>
</pre>
</pre>
<h4>使用骑士卡</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanKnightCard
<pre style="background: #f5f5f5">
<code>
<a href="Position.html">Position</a> robber; // 强盗的位置(格子坐标)
fixed64 id; // 被抢的玩家
</code>
</pre>
返回值: ResCatanKnightCard
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
<a href="Position.html">Position</a> robber; // 强盗的位置(格子坐标)
fixed64 criminal; // 罪犯
fixed64 victim; // 受害者
<a href="CatanResourceType.html">CatanResourceType</a> resource; // 资源
</code>
</pre>
</pre>
<h4>使用垄断卡</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanMonopolyCard
<pre style="background: #f5f5f5">
<code>
<a href="CatanResourceType.html">CatanResourceType</a> type; // 资源类型
</code>
</pre>
返回值: ResCatanMonopolyCard
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
fixed64 id; // 垄断者账号
<a href="CatanMasterResource.html">CatanMasterResource</a> lose; // 被垄断列表
</code>
</pre>
</pre>
<h4>弃牌回合开始(前端自行判定自己是否需要弃牌)</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: client
API调用者: logic
</pre>
参数: ReqCatanRoundFoldStart
<pre style="background: #f5f5f5">
<code>
int32 remain; // 剩余多少秒结束
</code>
</pre>
</pre>
<h4>弃牌</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: logic
API调用者: client
</pre>
参数: ReqCatanFold
<pre style="background: #f5f5f5">
<code>
<a href="CatanResource.html">CatanResource</a> lose; // 弃牌列表
</code>
</pre>
返回值: ResCatanFold
<pre style="background: #f5f5f5">
<code>
<a href="Error.html">Error</a> error; // 错误码
fixed64 id; // 账号
<a href="CatanResource.html">CatanResource</a> lose; // 弃牌列表
</code>
</pre>
</pre>
<h4>结束</h4>
<pre style="border: 1px dotted #785">
<pre style="background: #f5f5f5">
API提供方: client
API调用者: logic
</pre>
参数: ReqCatanDone
<pre style="background: #f5f5f5">
<code>
<a href="CatanScore.html">CatanScore</a> score; // 积分
int32 gain; // 本轮战绩
int32 totalGain; // 累计战绩
</code>
</pre>
</pre>
</body>